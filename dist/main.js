(()=>{"use strict";(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay"),l=document.querySelector(".callback-btn.fancyboxModal.hidden-xs"),o=document.querySelector(".modal-close");l.addEventListener("click",(l=>{e.style.display="block",t.style.display="block"})),o.addEventListener("click",(l=>{e.style.display="none",t.style.display="none"}))})(),document.querySelector(".top-menu.visible-md-inline-block.visible-lg-inline-block").querySelectorAll('a[href*="#"]').forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const l=e.getAttribute("href").substring(1);document.getElementById(l).scrollIntoView({behavior:"smooth",block:"start"})}))})),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item.relative");console.dir(t);let l,o=0;const n=(e,t,l)=>{e[t].classList.remove(l),e[t].style.transform="translateX(5000)"},r=(e,t,l)=>{e[t].classList.add(l),e[t].style.transform="translateX(500)"},c=()=>{n(t,o,"item.relative-active"),o++,o>=t.length&&(o=0),r(t,o,"item.relative-active")};e.addEventListener("click",(e=>{e.preventDefault(),n(t,o,"item.relative-active"),o>=t.length&&(o=0),o<0&&(o=t.length-1),r(t,o,"item.relative-active")})),((e=1500)=>{for(let e=0;e<3;e++)t[e].style.transform="translateX(5000px)";l=setInterval(c,e)})(2e3)})(),(()=>{const e=document.querySelector(".button-services"),t=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay");e.addEventListener("click",(()=>{t.style.display="block",l.style.display="block"}))})(),(()=>{const e=document.querySelector(".up");e.onclick=e=>{e.preventDefault(),(()=>{let e,t;e=document.body.scrollTop||window.pageYOffset,t=setInterval((()=>{e>0?window.scroll(0,e-=5):clearInterval(t)}),5)})()},window.addEventListener("scroll",(function(){e.hidden=pageYOffset<document.documentElement.clientHeight}))})(),(()=>{const e=document.querySelector(".form-control"),t=document.querySelector(".form-control.tel");e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Я]/g,"")})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9-()+]/g,"")}))})(),(()=>{const e=document.querySelector(".rf>form"),t=document.querySelector(".button.btn.feedback");console.log(t);const l=document.createElement("div"),o=e=>{let t=!0;return e.forEach(((l,o)=>{t=!/[^а-яА-Я]/.test(e[0].value)&&/[^ ]/.test(e[0].value)&&!/[^0-9-()+]/.test(e[1].value)})),t};try{if(!e)throw new Error("верните форму на место, пожалуйста");e.addEventListener("submit",(t=>{t.preventDefault(),(()=>{const t=e.querySelectorAll("input"),n=new FormData(e),r={};var c;l.style.color="blue",l.textContent="Идёт отправка...",e.append(l),n.forEach(((e,t)=>{r[t]=e})),console.log(o(t)),o(t)?(c=r,fetch("./server.php",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{l.style.color="blue",l.textContent="Отправлено!!!",setTimeout((()=>{l.textContent=""}),3e3),t.forEach((e=>{e.value=""}))})):(l.style.color="red",l.textContent="Ошибка...",e.append(l))})()}))}catch(e){console.log(e.message)}})()})();